#!/bin/bash

### ARCHIVES FILE ###
LOGDIR="./ai/patch/logs"
DESTINATION="./ai/patch/dl"
FILENAME="archives_list.csv"
LIST_URL_ROOT="https://model-ai.com/archive"
LIST_URL="$LIST_URL_ROOT/$FILENAME"   # might contain additional archives

### FILENAMES ###
#ARCHIVE1="./ai/patch/archive1.tar.gz"
#ARCHIVE2="./ai/patch/archive2.tar.gz"
#ARCHIVE2="./ai/patch/archive3.tar.gz"
#EXTRA="./ai/patch/extra.txt"

#ARCHIVE_URL1="https://model-ai.com/archive/archive1.tar.gz"
#ARCHIVE_URL2="https://model-ai.com/archive/archive2.tar.gz"
#ARCHIVE_URL3="https://model-ai.com/archive/archive3.tar.gz"
#EXTRA_URL="https://model-ai.com/archive/extra.txt"

### URLS ###

### ARCHIVES IN REPOSITORY ###


### GET ARCHIVE FILES LIST FETCHED FROM THE REPOSITORY URLS ABOVE AT HTTPS://MODEL-AI.COM
echo "-/- getting \"archives_list.csv\""
wget --output-file="$LOGDIR/$FILENAME" $LIST_URL

#echo "-/- getting \"archives\" (.tar.gz format) from online repository"
#wget --output-file=$ARCHIVE1 $ARCHIVE_URL1
#wget --output-file=$ARCHIVE2 $ARCHIVE_URL2
#wget --output-file=$ARCHIVE3 $ARCHIVE_URL3

### FETCH EXTRA DATA ###
#wget --output-file=$EXTRA $EXTRA_URL

### DONE WITH THE DOWNLOADS ###

### PATCH SCRIPT ###
if [ -f "./archives_list.csv" ]
  then
  mv "./$FILENAME" $DESTINATION
  echo "-/- virtual patching script"
  ./ai/patch/patch "$DESTINATION/$FILENAME"
fi

### DONE WITH SCRIPT ###
echo "-/- done."
exit 0

# EOF